<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/css/vendor/normalize.css">
    <link rel="stylesheet" href="/css/vendor/semantic.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="/js/vendor/modernizr-2.8.3.min.js"></script>
</head>
<body>
<!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience.</p>
<![endif]-->

<!-- Add your site or application content here -->
<div class="ui container">
    <h1>Create New User</h1>
    <form class="ui form" method="post" action="/user/create">
        <div class="field ui input">
            <input type="text" name="key" placeholder="key" required>
        </div>
        <br>
        <div class="field ui input">
            <input type="text" name="username" placeholder="username" required>
        </div>
        <br>
        <div class="field ui input">
            <input id="password1" type="password" name="password" placeholder="password" required>
        </div>
        <br>
        <div class="field ui input">
            <input id="password2" type="password" name="confirmPassword" placeholder="confirm password" required>
        </div>
        <br>
        <button class="ui blue button" type="submit">Submit</button>
    </form>
</div>

<script type="text/javascript">
    window.onload = function () {
        document.getElementById("password1").onchange = validatePassword;
        document.getElementById("password2").onchange = validatePassword;
    };
    var validatePassword = function () {
        var pass2 = document.getElementById("password2").value;
        var pass1 = document.getElementById("password1").value;
        console.log(pass1 + ", " + pass2);
        if (pass1 !== pass2) {
            console.log("no match");
            document.getElementById("password2").setCustomValidity("Passwords Don't Match");
        } else {
            console.log("match");
            document.getElementById("password2").setCustomValidity('');
            //empty string means no validation error
        }
    }
</script>
</body>
</html>
